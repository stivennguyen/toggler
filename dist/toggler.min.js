/*
 * Toggler - v0.0.1 - 2013-01-12
 * https://github.com/Gavrisimo/toggler
 * Copyright (c) 2013 Miloš Gavrilović; Licensed MIT
 */
(function(e){e.toggler=function(t,n){var r={type:"simple",speed:400,noJerky:!1,debug:!0},i=this;i.settings={},i.element=e(t),i.elementParent=i.element.wrap('<div class="toggler" />').parent(),i.dimensions={element:[],elementParent:[]},i.triggers=e("[data-rel="+i.element.attr("id")+"]");var s=function(){i.settings=e.extend({},r,n),o(),i.settings.type==="simple"?u():i.settings.type==="smooth"?a():i.settings.type==="fade"?f():(l('Unknown toggle type has been set; reverting back to "simple".'),u())},o=function(){i.dimensions.element.push(i.element.width(),i.element.height()),i.dimensions.elementParent.push(i.element.outerWidth(!0),i.element.outerHeight(!0)),i.elementParent.css({display:i.element.css("display")}),i.element.show(),i.settings.type==="smooth"&&(i.elementParent.css({height:i.dimensions.elementParent[1]}),i.settings.noJerky&&i.elementParent.css({overflow:"hidden"})),l("Everything is ready.",i.settings)},u=function(){i.triggers.each(function(){e(this).on({click:function(e){e.preventDefault(),i.elementParent.toggle()}})})},a=function(){i.triggers.each(function(){e(this).on({click:function(e){e.preventDefault(),i.elementParent.is(":animated")||(i.elementParent.is(":visible")?i.elementParent.animate({height:"0px"},i.settings.speed,"swing",function(){i.elementParent.css({display:"none"})}):(i.elementParent.css({height:"0px",display:"block"}),i.elementParent.animate({height:i.dimensions.elementParent[1]},i.settings.speed,"swing",function(){})))}})})},f=function(){i.triggers.each(function(){e(this).on({click:function(e){e.preventDefault(),i.elementParent.fadeToggle(i.settings.speed)}})})},l=function(e,t){i.settings.debug&&(console.group("DEBUG: "+e,t),console.groupEnd())};s()},e.fn.toggler=function(t){return this.each(function(){if(undefined==e(this).data("toggler")){var n=new e.toggler(this,t);e(this).data("toggler",n)}})}})(jQuery);